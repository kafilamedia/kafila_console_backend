(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){e.exports=a(49)},35:function(e,t,a){},37:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},43:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),o=a.n(l),i=(a(35),a(2)),s=a(4),c=a(5),u=a(3),m=a(6),d=a(7),p=(a(37),a(53)),f=a(51),g=a(54),h="${contextPath}"==document.getElementById("rootPath").value||""==document.getElementById("rootPath").value,E=h?"/":document.getElementById("rootPath").value+"/",b=function(){var e=h?"http://localhost:8000".concat(E):E;return e},v=(b(),b(),b()),y=v+"api/account/",N=v+"api/accountdashboard/",O=v+"api/notes/",S=function(e){return e.startLoading(),{type:"req_ID",payload:{},meta:{app:e,type:"req_ID",url:N.concat("user")}}},j=function(e){return e.startLoading(),{type:"do_logout",payload:{},meta:{app:e,type:"do_logout",url:N.concat("logout")}}},D=function(e,t,a){return a.startLoading(),{type:"do_login",payload:{user:{email:e,password:t}},meta:{type:"do_login",url:y.concat("login"),app:a}}},k=function(e,t){t.startLoading();var a=e.fieldsFilter;return console.debug("request.fieldsFilter: ",a),{type:"GET_MEETING_NOTES",payload:{filter:{limit:e.limit,page:e.page,fieldsFilter:a,orderBy:e.orderBy,orderType:e.orderType}},meta:{type:"GET_MEETING_NOTES",url:O.concat("list"),app:t}}},w=a(8),C=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{class:"footer has-background-dark"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"content has-text-centered"},r.a.createElement("div",{class:"columns is-mobile is-centered"},r.a.createElement("div",{class:"field is-grouped is-grouped-multiline"},r.a.createElement("div",{class:"control"},r.a.createElement("div",{class:"tags has-addons"},r.a.createElement("a",{class:"tag is-link",href:"https://kafila.sch.id"},"Kafila International Islamic School"),r.a.createElement("span",{class:"tag is-light"},"\xa9 Kafila Console 2020"))))))))}}]),t}(n.Component),I=a(50),x=function(e){function t(e){var a,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).parentApp=e.app,a.authenticated=n,a.validateLoginStatus=function(){n&&(1==a.props.loginStatus&&null!=a.props.loggedUser||a.backToLogin())},a.getParentApp=function(){return a.props.app},a.showConfirmation=function(e){return new Promise(function(t,n){a.parentApp.showAlert("Confirmation",e,!1,function(e){t(!0)},function(e){t(!1)})})},a.showInfo=function(e){a.parentApp.showAlert("Info",e,!0,function(){})},a.showError=function(e){a.parentApp.showAlertError("Error",e,!0,function(){})},a.backToLogin=function(){n&&a.props.history.push("/login")},a.startLoading=function(e){a.parentApp.startLoading(e)},a.endLoading=function(){a.parentApp.endLoading()},a.doAjax=function(e,t,n,r,l){if(e){a.startLoading(n);var o=Object(d.a)(Object(d.a)(a));e(t).then(function(e){r&&r(e)}).catch(function(e){l?l(e):("string"==typeof e&&o.showInfo("Operation Failed: "+e),o.showInfo("resource not found"))}).finally(function(e){a.endLoading()})}else console.warn("Method Not Found! ")},a.commonAjax=function(e,t,n,r){a.doAjax(e,t,!1,n,r)},a.commonAjaxWithProgress=function(e,t,n,r){a.doAjax(e,t,!0,n,r)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){null==this.props.loggedUser&&this.backToLogin()}}]),t}(n.Component),R=[{name:"Home",link:"/home"},{name:"Dashboard",link:"/dashboard",authenticated:!0},{name:"Tambah Notulensi",link:"/meetingnote/create",authenticated:!0},{name:"Management",link:"/management",authenticated:!0,role:"admin"}],A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e,!1))).state={showBurger:!1},a.toggleNavBurger=function(){a.setState({showBurger:!a.state.showBurger})},a.performLogout=function(){var e=a.props;a.showConfirmation("Apakah Anda ingin keluar?").then(function(t){t&&e.performLogout(e.app)})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:"navbar is-dark topNav"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(I.a,{style:{backgroundColor:"#fff"},className:"navbar-item",to:"/"},r.a.createElement("img",{src:"kiis-stroke.png",width:"38",height:"38"})),r.a.createElement("div",{onClick:this.toggleNavBurger,className:"navbar-burger burger"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))),r.a.createElement("div",{id:"topNav",className:this.state.showBurger?"is-active navbar-menu":" navbar-menu"},r.a.createElement("div",{className:"navbar-start"},R.map(function(t){return r.a.createElement(F,{loginStatus:e.props.loginStatus,loggedUser:e.props.loggedUser,linkProperty:t})})),r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("div",{className:"buttons has-addons"},this.props.loginStatus?r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{className:"button is-info",to:"/profile"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-user"})),r.a.createElement("span",null,this.props.loggedUser.display_name," - ",this.props.loggedUser.role)),r.a.createElement("a",{onClick:this.performLogout,className:"button is-danger"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-sign-out-alt"})),r.a.createElement("span",null,"Logout"))):r.a.createElement(I.a,{className:"button is-info",to:"/login"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-user"})),r.a.createElement("span",null,"Login"))))))))}}]),t}(x),F=function(e){var t=e.linkProperty,a=e.loginStatus,n=e.loggedUser;return!a&&t.authenticated?null:null!=t.role&&null!=n&&n.role!=t.role?null:r.a.createElement(I.a,{key:t.name+"LINK",className:"navbar-item",to:t.link},t.name)},L=Object(g.a)(Object(w.b)(function(e){return{loginStatus:e.userState.loginStatus,loggedUser:e.userState.loggedUser,menus:e.userState.menus,requestId:e.userState.requestId,applicationProfile:e.userState.applicationProfile}},function(e){return{performLogout:function(t){return e(j(t))}}})(A)),B=(a(43),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={show:!0},a.hide=function(){a.setState({show:!1})},a.show=function(){a.setState({show:!0})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){if(0==this.state.show)return null;var e=this.props.className?"message "+this.props.className:"message is-info";return r.a.createElement("article",{style:{marginBottom:"10px"},id:"my-message",className:e},r.a.createElement("div",{className:"message-header"},r.a.createElement("p",null,this.props.header?this.props.header:"Info"),r.a.createElement("button",{onClick:this.hide,className:"delete","aria-label":"delete"})),r.a.createElement("div",{className:"message-body"},this.props.body))}}]),t}(n.Component)),U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).child=r.a.createRef(),a.lastLoginAttempt=new Date,a.state={},a.validateLoginStatus=function(){1==a.props.loginStatus&&a.props.history.push("/dashboard")},a.handleSubmit=function(e){e.preventDefault();var t=e.target,n=(new FormData(e.target),t.elements[0]),r=t.elements[1];a.props.performLogin(n.value,r.value,a.props.app)},a.showLoginInfo=function(){a.props.loginFailed&&a.lastLoginAttempt!=a.props.lastLoginAttempt&&(a.child.current.show(),a.lastLoginAttempt=a.props.lastLoginAttempt)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.validateLoginStatus()}},{key:"componentDidUpdate",value:function(){this.validateLoginStatus(),this.showLoginInfo()}},{key:"componentDidMount",value:function(){document.title="Login"}},{key:"render",value:function(){return r.a.createElement("div",null,this.props.loginFailed?r.a.createElement(B,{ref:this.child,className:"is-danger",body:"Login Failed"}):null,r.a.createElement("div",{class:"columns is-centered"},r.a.createElement("div",{style:{marginTop:"10px",marginBottom:"10px"},class:"column is-5-tablet is-4-desktop is-3-widescreen"},r.a.createElement("form",{id:"formLogin",onSubmit:this.handleSubmit,className:"box"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{for:"",className:"label"},"Email"),r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{nam:"email",type:"email",placeholder:"e.g. bobsmith@gmail.com",className:"input",required:!0}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fa fa-envelope"})))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{for:"",className:"label"},"Password"),r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{name:"password",type:"password",placeholder:"*******",className:"input",required:!0}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fa fa-lock"})))),r.a.createElement("div",{className:"field"},r.a.createElement("button",{className:"button is-success"},"Login"))))))}}]),t}(n.Component),_=Object(g.a)(Object(w.b)(function(e){return{loginStatus:e.userState.loginStatus,lastLoginAttempt:e.userState.lastLoginAttempt,loginFailed:e.userState.loginFailed,requestId:e.userState.requestId}},function(e){return{performLogin:function(t,a,n){return e(D(t,a,n))}}})(U)),T=(a(45),function(e){var t=e.headers,a=e.onButtonOrderClick;return r.a.createElement("thead",null,r.a.createElement("tr",null,t.map(function(e){return r.a.createElement("th",null,null==e.alias?e.text.toUpperCase().replaceAll("_"," "):e.alias,e.withFilter?r.a.createElement("div",{class:"field has-addons"},r.a.createElement("div",{class:"control"},r.a.createElement(M,{type:"text",name:e.text})),r.a.createElement("div",{class:"control",style:{fontSize:"0.7em",backgroundColor:"#ccc"}},r.a.createElement("i",{sort:"asc",onClick:a,data:e.text,className:"fas fa-angle-up sort-button"}),r.a.createElement("i",{sort:"desc",onClick:a,data:e.text,className:"fas fa-angle-down sort-button"}))):null)})))}),M=function(e){var t=e.type?e.type:"text";return r.a.createElement("input",{className:"input form-filter",type:t,name:e.name,id:"input-form-"+e.name})},P=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"buttons has-addons"},r.a.createElement("button",{type:"submit",className:"button is-info"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-search"})),r.a.createElement("span",null,"Apply Filter")),r.a.createElement("button",{type:"reset",className:"button is-danger"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-sync"})),r.a.createElement("span",null,"Reset Filter"))))},q=function(e){var t="input input-form-field";return r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{className:"label"},e.label?e.label:"Input")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},1==e.required?"textarea"==e.type?r.a.createElement("textarea",{required:!0,className:t+" textarea",id:"input-form-field-"+e.name,name:e.name}):r.a.createElement("input",{required:!0,type:e.type?e.type:"text",id:"input-form-field-"+e.name,name:e.name,className:t}):"textarea"==e.type?r.a.createElement("textarea",{className:t+" textarea",id:"input-form-field-"+e.name,name:e.name}):r.a.createElement("input",{type:e.type?e.type:"text",id:"input-form-field-"+e.name,name:e.name,className:t}),e.note?r.a.createElement("p",null,r.a.createElement("i",null,"Note: ",e.note)):null))))},G=function(e){var t=(null==e.options?[]:e.options).map(function(e){return r.a.createElement("option",{value:e.value},e.text)});return r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{className:"label"},e.label?e.label:"Select")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},1==e.required?r.a.createElement("select",{required:!0,id:"input-form-field-"+e.name,name:e.name,className:"input input-form-field"},t):r.a.createElement("select",{id:"input-form-field-"+e.name,name:e.name,className:"input input-form-field"},t)))))},K=function(e){return r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label is-normal"},r.a.createElement("label",{className:"label"},e.label?e.label:"Label")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},e.children))))},z=function(e){var t=e.submitText?e.submitText:"Submit";return r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label is-normal"}),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"field"},r.a.createElement("button",{className:"button is-link",type:"submit"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-save"})),r.a.createElement("span",null,t)),1==e.withReset?r.a.createElement("button",{className:"button is-danger",type:"reset"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-sync"})),r.a.createElement("span",null,"Reset")):null)))},J=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onClick=function(e){a.props.onClick&&a.props.onClick(e)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){for(var e=this,t=W(this.props.limit,this.props.totalData,this.props.activeIndex),a=[],n=0;n<t.length;n++){var l=t[n];a.push({index:l})}return r.a.createElement("div",{className:"buttons",style:{marginTop:"5px",marginBottom:"5px"}},a.map(function(t){var a=t.index==e.props.activeIndex?"button is-link":"button is-light";return r.a.createElement("a",{onClick:function(){e.onClick(t.index)},className:a},t.index)}))}}]),t}(n.Component),W=function(e,t,a){var n=[],r=Math.ceil(t/e),l=a-2,o=a+2;r>1&&n.push(1);for(var i=l;i<=o;i++)i>1&&i<=r&&n.push(i);return o<r&&n.push(r),n},Y=J,H=a(9),V=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).saveButtonOnClick=function(e){a.props.saveButtonOnClick&&a.props.saveButtonOnClick(e)},a.editButtonOnClick=function(e){a.props.editButtonOnClick&&a.props.editButtonOnClick(e)},a.deleteButtonOnClick=function(e){a.props.deleteButtonOnClick&&a.props.deleteButtonOnClick(e)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"card",style:Object(H.a)({margin:"10px"},this.props.style)},r.a.createElement("header",{class:"card-header"},r.a.createElement("p",{class:"card-header-title"},this.props.title?this.props.title:"Card Title"),r.a.createElement("a",{class:"card-header-icon","aria-label":"more options"},r.a.createElement("span",{class:"icon"},r.a.createElement("i",{class:"fas fa-angle-down","aria-hidden":"true"})))),r.a.createElement("div",{class:"card-content"},r.a.createElement("div",{class:"content"},this.props.children)),this.props.withButtonFooter?r.a.createElement("footer",{class:"card-footer"},r.a.createElement("a",{href:"#",onClick:this.saveButtonOnClick,class:"card-footer-item"},"Save"),r.a.createElement("a",{href:"#",onClick:this.editButtonOnClick,class:"card-footer-item"},"Edit"),r.a.createElement("a",{href:"#",onClick:this.deleteButtonOnClick,class:"card-footer-item"},"Delete")):null,this.props.footerContent?r.a.createElement("footer",{class:"card-footer"},this.props.footerContent):null)}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},a.page=1,a.limit=5,a.count=0,a.orderBy="id",a.orderType="asc",a.fieldsFilter={},a.getMeetingNotesByPage=function(e){a.page=e,a.getMeetingNotes()},a.getMeetingNotes=function(){a.readInputForm();var e={page:a.page,limit:a.limit,orderBy:a.orderBy,orderType:a.orderType,fieldsFilter:a.fieldsFilter};a.props.getMeetingNotes(e,a.props.app)},a.initialize=function(){var e=null!=a.props.meetingNoteData&&null!=a.props.meetingNoteData.filter,t=e?a.props.meetingNoteData.filter:null;a.page=e?t.page:1,a.limit=e?t.limit:5,a.count=e?t.count:0,a.orderBy=e?t.orderBy:null,a.orderType=e?t.orderType:null},a.readInputForm=function(){var e=document.getElementById("list-form");if(null!=e){var t=e.getElementsByClassName("form-filter");a.fieldsFilter={};for(var n=0;n<t.length;n++){var r=t[n];null!=r.value&&""!=r.value&&(a.fieldsFilter[r.name]=r.value)}}},a.filter=function(e){a.page=1,a.getMeetingNotes()},a.onButtonOrderClick=function(e){a.orderBy=e.target.getAttribute("data"),a.orderType=e.target.getAttribute("sort"),console.debug(e.target,"by ",a.orderBy,a.orderType),e.preventDefault(),a.getMeetingNotes()},a.onSubmitClick=function(e){e.preventDefault(),a.filter(document.getElementById("list-form"))},a.populateDefaultInputs=function(){if(null!=a.props.meetingNoteData&&null!=a.props.meetingNoteData.filter){var e=a.props.meetingNoteData.filter.fieldsFilter;for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];try{document.getElementById("input-form-"+t).value=n}catch(r){}}}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.validateLoginStatus(),this.initialize()}},{key:"componentDidMount",value:function(){null==this.props.meetingNoteData&&this.getMeetingNotes(),document.title="Dashboard",this.populateDefaultInputs()}},{key:"createNavButton",value:function(){return null==this.props.meetingNoteData?r.a.createElement(r.a.Fragment,null):r.a.createElement(Y,{onClick:this.getMeetingNotesByPage,limit:this.limit,totalData:this.props.meetingNoteData.count,activeIndex:this.page})}},{key:"render",value:function(){var e=this;if(null==this.props.loggedUser)return null;var t=this.props.meetingNoteData,a=t&&t.result_list?t.result_list:[],n=this.createNavButton();return r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},"Dashboard"),r.a.createElement(V,{title:this.props.loggedUser.display_name},r.a.createElement("p",null,"Bidang ",this.props.loggedUser.departement.name)),r.a.createElement(V,{title:"Daftar Notulen Rapat"},n,r.a.createElement("form",{id:"list-form",onSubmit:function(t){t.preventDefault(),e.filter(t.target)}},P(),r.a.createElement("div",{style:{overflow:"scroll"}},r.a.createElement("table",{style:{},className:"table"},r.a.createElement(Q,{onButtonOrderClick:this.onButtonOrderClick,headers:[{text:"No"},{text:"id",alias:"Id",withFilter:!0},{text:"date",alias:"Tanggal",withFilter:!0},{text:"content",alias:"Pembahasan",withFilter:!0},{text:"decision",alias:"Keputusan",withFilter:!0},{text:"deadline_date",alias:"Deadline",withFilter:!0},{text:"departement",alias:"Bidang",withFilter:!0},{text:"user",alias:"Notulis",withFilter:!0},{text:"status"},{text:"action"}]}),a.map(function(t,a){var n=(e.page-1)*e.limit;return r.a.createElement("tr",null,r.a.createElement("td",null,n+a+1),r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.content&&t.content.length>10?t.content.substring(0,10)+"...":t.content),r.a.createElement("td",null,t.decision&&t.decision.length>10?t.decision.substring(0,10)+"...":t.decision),r.a.createElement("td",null,t.deadline_date),r.a.createElement("td",null,t.departement.name),r.a.createElement("td",null,t.user.name),r.a.createElement("td",null,1==t.is_closed?r.a.createElement("span",{className:"tag is-info"},"Closed"):r.a.createElement("span",{className:"tag is-success"},"Not Closed")),r.a.createElement("td",null,r.a.createElement(I.a,{to:"/meetingnote/"+t.id,className:"button is-small"},r.a.createElement("i",{className:"fas fa-edit"})),r.a.createElement(I.a,{to:"/meetingnote/"+t.id+"/action",className:"button is-primary is-small"},r.a.createElement("i",{className:"fas fa-location-arrow"}))))}))))))}}]),t}(x),Q=function(e){return T(e)},X=Object(g.a)(Object(w.b)(function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus,meetingNoteData:e.meetingNoteState.meetingNoteData}},function(e){return{getMeetingNotes:function(t,a){return e(k(t,a))}}})($)),Z=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){0!=this.props.loginStatus&&null!=this.props.loggedUser&&"admin"==this.props.loggedUser.role||this.backToLogin()}}]),t}(x),ee=function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.title="Management"}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},"Master Data Menu"),r.a.createElement(V,{title:"Menu"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-one-third"},r.a.createElement("div",{className:"box has-text-centered"},r.a.createElement("p",null,r.a.createElement("i",{style:{fontSize:"50px"},className:"fas fa-puzzle-piece"})),r.a.createElement(I.a,{to:"/management/departements"},"Departements"))),r.a.createElement("div",{className:"column is-one-third"},r.a.createElement("div",{className:"box has-text-centered"},r.a.createElement("p",null,r.a.createElement("i",{style:{fontSize:"50px"},className:"fas fa-users"})),r.a.createElement(I.a,{to:"/management/users"},"Users"))))))}}]),t}(Z),te=Object(g.a)(ee),ae=function(){return{"Content-Type":"application/json",Authorization:"Bearer "+ne()}},ne=function(){return oe("kafila_api_token")},re=function(e){return console.log("setApiToken: ",e),le("kafila_api_token",e)},le=function(e,t,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var r="expires="+n.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"},oe=function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var r=a[n];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""},ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=null==t?{}:t;return new Promise(function(t,n){fetch(e,{method:"POST",body:JSON.stringify(a),headers:ae()}).then(function(e){return e.json()}).then(function(e){"00"==e.code?t(e):n(e)}).catch(function(e){console.error(e),n(e)})})},se=function(){function e(){var t=this;Object(i.a)(this,e),this.setUsersData=function(e){t.usersData=e},this.storeUser=function(e){var t={code:"user",userModel:e},a=b().concat("api/masterdata/store");return ie(a,t)},this.viewUser=function(e){var t=b().concat("api/masterdata/view/"+e);return ie(t,{code:"user"})},this.userList=function(e){return t.list({code:"user",filter:e})},this.storeDepartement=function(e){var t={code:"departement",departement:e},a=b().concat("api/masterdata/store");return ie(a,t)},this.viewDepartement=function(e){var t=b().concat("api/masterdata/view/"+e);return ie(t,{code:"departement"})},this.deleteRecord=function(e){var t=b().concat("api/masterdata/delete/"+e.id);return ie(t,{code:e.code})},this.departementList=function(e){return t.list({code:"departement",filter:e})},this.list=function(e){var t={code:e.code,filter:e.filter},a=b().concat("api/masterdata/list");return ie(a,t)},this.usersData=null,this.departementsData=null}return Object(s.a)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}}]),e}();se.instance=se.instance||new se;var ce=a(29),ue=function(e){function t(e,a,n){var l;return Object(i.a)(this,t),(l=Object(c.a)(this,Object(u.a)(t).call(this,e))).loadRecords=function(){},l.readInputForm=function(){var e=document.getElementById("list-form");if(null!=e){var t=e.getElementsByClassName("form-filter");l.fieldsFilter={};for(var a=0;a<t.length;a++){var n=t[a];null!=n.value&&""!=n.value&&(l.fieldsFilter[n.name]=n.value)}}},l.masterDataServce=se.instance,l.code=n,l.name=a,l.page=1,l.limit=5,l.count=0,l.orderBy="id",l.orderType="asc",l.fieldsFilter={},l.recordData=null,l.successLoaded=function(e){l.recordData=e},l.errorLoaded=function(e){},l.getRecordDataStored=function(){return null},l.loadRecordByPage=function(e){Object(ce.a)(Object(u.a)(t.prototype),"page",e,Object(d.a)(l),!0),l.loadRecords()},l.onButtonOrderClick=function(e){e.preventDefault(),l.orderBy=e.target.getAttribute("data"),l.orderType=e.target.getAttribute("sort"),l.loadRecords()},l.filter=function(e){l.page=1,l.loadRecords()},l.delete=function(e){var t=Object(d.a)(Object(d.a)(l));l.showConfirmation("Delete "+l.name+"?").then(function(a){a&&t.deleteRecord(e)})},l.onSuccessDelete=function(e){l.showConfirmation("Record has been deleted").then(l.loadRecords)},l.onErrorDelete=function(e){l.showError("Error Delete Record")},l.deleteRecord=function(e){l.commonAjax(l.masterDataServce.deleteRecord,{code:l.code,id:e},l.onSuccessDelete,l.onErrorDelete)},l.linkToFormCreate=function(e,t){return r.a.createElement(I.a,{to:e,className:"button is-primary",style:{marginBottom:"10px"}},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-plus"})),r.a.createElement("span",null,t))},l.linkToFormEdit=function(e){return r.a.createElement(I.a,{to:e,className:"button is-warning is-small"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-edit"})),r.a.createElement("span",null,"Edit"))},l.buttonsModifyAndDelete=function(e,t){return r.a.createElement("div",{className:"buttons has-addons"},l.linkToFormEdit(e),l.buttonDeleteRecord(t))},l.buttonDeleteRecord=function(e){return r.a.createElement("a",{onClick:function(){return l.delete(e)},className:"button is-danger is-small"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"fas fa-trash"})),r.a.createElement("span",null,"Delete"))},l}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.title=this.name+" Management",this.loadRecords()}}]),t}(Z),me=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.cells?this.props.cells:[];return r.a.createElement("div",{className:"columns"},e.map(function(e){return r.a.createElement("div",{className:"column"},e)}))}}]),t}(n.Component),de=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e,"User","user"))).loadRecords=function(){a.readInputForm();var e={page:a.page,limit:a.limit,orderBy:a.orderBy,orderType:a.orderType,fieldsFilter:a.fieldsFilter};a.commonAjax(a.masterDataService.userList,e,a.successLoaded,a.errorLoaded)},a.state={showForm:!1},a.departementList=[],a.masterDataService=se.instance,a.populateDefaultInputs=function(){var e=null!=a.recordData?a.recordData:null;if(null!=e){var t=e.filter.fieldsFilter;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];try{document.getElementById("input-form-"+n).value=r}catch(l){}}}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"createNavButton",value:function(){var e=null!=this.recordData?this.recordData:null;return null==e?r.a.createElement(r.a.Fragment,null):r.a.createElement(Y,{onClick:this.loadRecordByPage,limit:this.limit,totalData:e.count,activeIndex:this.page})}},{key:"render",value:function(){var e=this,t=this.createNavButton(),a=null!=this.recordData?this.recordData:null,n=null==a||null==a.result_list?[]:a.result_list;return r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},"Users Management"),r.a.createElement(V,{title:"Users"},this.linkToFormCreate("/management/users/create","Tambah Data"),r.a.createElement("form",{id:"list-form",onSubmit:function(t){t.preventDefault(),e.filter(t.target)}},r.a.createElement(me,{cells:[P(),t]}),r.a.createElement("table",{className:"table"},r.a.createElement(pe,{onButtonOrderClick:this.onButtonOrderClick,headers:[{text:"No"},{text:"id",withFilter:!0},{text:"email",withFilter:!0},{text:"display_name",withFilter:!0},{text:"role",withFilter:!0},{text:"departement",withFilter:!0},{text:"action"}]}),n.map(function(t,a){var n=(e.page-1)*e.limit;return r.a.createElement("tr",null,r.a.createElement("td",null,n+a+1),r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.display_name),r.a.createElement("td",null,t.role),r.a.createElement("td",null,t.departement?t.departement.name:"-"),r.a.createElement("td",null,e.buttonsModifyAndDelete("/management/users/"+t.id,t.id)))})))))}}]),t}(ue),pe=function(e){return T(e)},fe=Object(g.a)(Object(w.b)(function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus}})(de)),ge=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e,"Departement","departement"))).loadRecords=function(){a.readInputForm();var e={page:a.page,limit:a.limit,orderBy:a.orderBy,orderType:a.orderType,fieldsFilter:a.fieldsFilter};a.commonAjax(a.masterDataService.departementList,e,a.successLoaded,a.errorLoaded)},a.state={},a.masterDataService=se.instance,a.populateDefaultInputs=function(){var e=null!=a.recordData?a.recordData:null;if(null!=e){var t=e.filter.fieldsFilter;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];try{document.getElementById("input-form-"+n).value=r}catch(l){}}}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"createNavButton",value:function(){var e=null!=this.recordData?this.recordData:null;return null==e?r.a.createElement(r.a.Fragment,null):r.a.createElement(Y,{onClick:this.loadRecordByPage,limit:this.limit,totalData:e.count,activeIndex:this.page})}},{key:"render",value:function(){var e=this,t=this.createNavButton(),a=null!=this.recordData?this.recordData:null,n=null==a||null==a.result_list?[]:a.result_list;return r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},"Departement Management"),r.a.createElement(V,{title:"Departement"},this.linkToFormCreate("/management/departements/create","Tambah Data"),r.a.createElement("form",{id:"list-form",onSubmit:function(t){t.preventDefault(),e.filter(t.target)}},r.a.createElement(me,{cells:[P(),t]}),r.a.createElement("table",{style:{tableLayout:"fixed"},className:"table"},r.a.createElement(he,{onButtonOrderClick:this.onButtonOrderClick,headers:[{text:"No"},{text:"id",withFilter:!0},{text:"name",withFilter:!0},{text:"description",withFilter:!0},{text:"action"}]}),n.map(function(t,a){var n=(e.page-1)*e.limit;return r.a.createElement("tr",null,r.a.createElement("td",null,n+a+1),r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.description),r.a.createElement("td",null,e.buttonsModifyAndDelete("/management/departements/"+t.id,t.id)))})))))}}]),t}(ue),he=function(e){return T(e)},Ee=Object(g.a)(Object(w.b)(function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus}})(ge)),be=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={recordNotFound:!1,isLoadingRecord:!0,departementList:[]},a.masterDataService=se.instance,a.onSubmit=function(e){e.preventDefault();var t=e.target,n=Object(d.a)(Object(d.a)(a));a.showConfirmation("Save User?").then(function(e){e&&n.storeRecord(t)})},a.storeRecord=function(e){for(var t=e.getElementsByClassName("input-form-field"),n={},r=0;r<t.length;r++){var l=t[r];if(null!=l.value&&""!=l.value){var o=l.name;"departement"==o&&(o="departement_id"),n[o]=l.value}}null!=a.getRecordId()&&(n.id=a.getRecordId()),a.store(n),console.debug("USER: ",n)},a.getRecordId=function(){return a.props.match.params.id},a.departementListLoaded=function(e){a.setState({departementList:e.result_list}),null!=a.getRecordId()&&a.loadRecord(),console.log("departementListLoaded: ",e)},a.recordSaved=function(e){a.showInfo("SUCCESS SAVING RECORD")},a.recordFailedToSave=function(e){a.showError("FAILED SAVING RECORD")},a.store=function(e){a.commonAjax(a.masterDataService.storeUser,e,a.recordSaved,a.recordFailedToSave)},a.loadDepartements=function(){a.commonAjax(a.masterDataService.departementList,{},a.departementListLoaded,function(e){})},a.handleSuccessGetRecord=function(e){a.setState({isLoadingRecord:!1});for(var t=document.getElementById("form-management").getElementsByClassName("input-form-field"),n=0;n<t.length;n++){var r=t[n];"departement"==r.name?r.value=e.user.departement_id:"password"==r.name?r.value=null:r.value=e.user[r.name]}},a.handleErrorGetRecord=function(e){a.setState({recordNotFound:!0})},a.loadRecord=function(){a.commonAjax(a.masterDataService.viewUser,a.getRecordId(),a.handleSuccessGetRecord,a.handleErrorGetRecord)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.loadDepartements(),document.title="User Form"}},{key:"render",value:function(){if(this.state.recordNotFound)return r.a.createElement(B,{className:"is-danger",body:"Record Not Found"});if(null!=this.getRecordId()&&this.state.isLoadingRecord)return r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},"Users Management"),r.a.createElement("h3",null,"Please Wait..."));var e=r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{to:"/management/users"},"Users"),"\xa0",r.a.createElement("i",{className:"fas fa-angle-right"}),"\xa0Form");return r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},"Users Management"),r.a.createElement(V,{title:e},r.a.createElement("form",{onSubmit:this.onSubmit,id:"form-management"},r.a.createElement(q,{label:"Email",name:"email",required:!0,type:"email"}),r.a.createElement(q,{label:"Username",name:"name",required:!0}),r.a.createElement(q,{label:"Display Name",name:"display_name",required:!0}),r.a.createElement(q,{label:"Password",name:"password",note:"Kosongkan password apabila tidak ingin diubah"}),r.a.createElement(G,{label:"Departement",options:this.state.departementList.map(function(e){return{value:e.id,text:e.name}}),name:"departement",required:!0}),r.a.createElement(z,{submitText:null==this.getRecordId()?"Create":"Update",withReset:null==this.getRecordId()}))))}}]),t}(x),ve=Object(g.a)(Object(w.b)(function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus}})(be)),ye=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={recordNotFound:!1,isLoadingRecord:!0},a.masterDataService=se.instance,a.onSubmit=function(e){e.preventDefault();var t=e.target,n=Object(d.a)(Object(d.a)(a));a.showConfirmation("Save Data?").then(function(e){e&&n.storeDepartement(t)})},a.storeDepartement=function(e){for(var t=e.getElementsByClassName("input-form-field"),n={},r=0;r<t.length;r++){var l=t[r];if(null!=l.value&&""!=l.value)n[l.name]=l.value}null!=a.getRecordId()&&(n.id=a.getRecordId()),a.store(n),console.debug("Departement: ",n)},a.getRecordId=function(){return a.props.match.params.id},a.recordSaved=function(e){a.showInfo("SUCCESS SAVING RECORD")},a.recordFailedToSave=function(e){a.showError("FAILED SAVING RECORD")},a.store=function(e){a.commonAjax(a.masterDataService.storeDepartement,e,a.recordSaved,a.recordFailedToSave)},a.handleSuccessGetRecord=function(e){a.setState({isLoadingRecord:!1});for(var t=document.getElementById("form-management").getElementsByClassName("input-form-field"),n=0;n<t.length;n++){var r=t[n];r.value=e.departement[r.name]}},a.handleErrorGetRecord=function(e){a.setState({recordNotFound:!0})},a.loadRecord=function(){a.commonAjax(a.masterDataService.viewDepartement,a.getRecordId(),a.handleSuccessGetRecord,a.handleErrorGetRecord)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.title="Departement Form",null!=this.getRecordId()&&this.loadRecord()}},{key:"render",value:function(){if(this.state.recordNotFound)return r.a.createElement(B,{className:"is-danger",body:"Record Not Found"});if(null!=this.getRecordId()&&this.state.isLoadingRecord)return r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},"Departements Management"),r.a.createElement("h3",null,"Please Wait..."));var e=r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{to:"/management/departements"},"Departements"),"\xa0",r.a.createElement("i",{className:"fas fa-angle-right"}),"\xa0Form");return r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},"Departements Management"),r.a.createElement(V,{title:e},r.a.createElement("form",{onSubmit:this.onSubmit,id:"form-management"},r.a.createElement(q,{label:"Nama",name:"name",required:!0}),r.a.createElement(q,{label:"Deskripsi",name:"description",type:"textarea",required:!0}),r.a.createElement(z,{submitText:null==this.getRecordId()?"Create":"Update",withReset:null==this.getRecordId()}))))}}]),t}(x),Ne=Object(g.a)(Object(w.b)(function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus}})(ye)),Oe=function e(){Object(i.a)(this,e),this.store=function(e){var t={meeting_note:e},a=b().concat("api/notes/store");return ie(a,t)},this.view=function(e){var t=b().concat("api/notes/view/"+e);return ie(t,{code:"meeting_note"})},this.storeAction=function(e){var t={action:e},a=b().concat("api/action/store");return ie(a,t)}};Oe.instance=Oe.instance||new Oe;var Se="form-input-meeting-note",je=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={recordNotFound:!1,isLoadingRecord:!0},a.meetingNote={},a.meetingNoteService=Oe.instance,a.getRecordId=function(){return a.props.match.params.id},a.onSubmit=function(e){e.preventDefault();var t=e.target,n=Object(d.a)(Object(d.a)(a));a.showConfirmation("Submit Data?").then(function(e){e&&n.fillDataAndStore(t)})},a.fillDataAndStore=function(e){var t=e.getElementsByClassName("input-form-field");a.meetingNote={};for(var n=0;n<t.length;n++){var r=t[n];null!=r.value&&""!=r.value&&(a.meetingNote[r.name]=r.value)}null!=a.getRecordId()&&(a.meetingNote.id=a.getRecordId()),console.debug("meetingNote>>",a.meetingNote),a.storeMeetingNote()},a.handleSuccessSubmit=function(e){a.showInfo("SUCCESS");try{null==a.getRecordId()&&document.getElementById(Se).reset()}catch(t){}},a.handleErrorSubmit=function(e){a.showError("handleErrorSubmit: "+e)},a.handleErrorGetRecord=function(e){a.setState({recordNotFound:!0})},a.handleSuccessGetRecord=function(e){a.meetingNote=e.meeting_note,a.setState({isLoadingRecord:!1});for(var t=document.getElementById(Se).getElementsByClassName("input-form-field"),n=0;n<t.length;n++){var r=t[n];r.value=e.meeting_note[r.name],0==a.isClosed()&&"content"!=r.name&&"decision"!=r.name&&r.setAttribute("disabled","disabled"),a.isClosed()&&r.setAttribute("disabled","disabled")}},a.enableInputs=function(){for(var e=document.getElementById(Se),t=e.getElementsByClassName("input-form-field"),a=0;a<t.length;a++){t[a].removeAttribute("disabled")}e.reset()},a.storeMeetingNote=function(){a.commonAjax(a.meetingNoteService.store,a.meetingNote,a.handleSuccessSubmit,a.handleErrorSubmit)},a.loadRecord=function(){a.commonAjax(a.meetingNoteService.view,a.getRecordId(),a.handleSuccessGetRecord,a.handleErrorGetRecord)},a.isClosed=function(){return null!=a.getRecordId()&&null!=a.meetingNote&&1==a.meetingNote.is_closed},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.validateLoginStatus()}},{key:"componentDidMount",value:function(){document.title="Meeting Note Form",null!=this.getRecordId()&&this.loadRecord()}},{key:"componentDidUpdate",value:function(){null==this.getRecordId()&&this.enableInputs()}},{key:"render",value:function(){return this.state.recordNotFound?r.a.createElement(B,{className:"is-danger",body:"Record Not Found"}):null!=this.getRecordId()&&this.state.isLoadingRecord?r.a.createElement("h3",null,"Please Wait..."):null==this.props.loggedUser?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},"Notulensi Rapat Departemen ",this.props.loggedUser.departement.name),r.a.createElement(V,{title:"Formulir Notulensi"},null!=this.getRecordId()&&null!=this.meetingNote?r.a.createElement("div",{className:"tags has-addons are-medium"},r.a.createElement("span",{className:"tag is-dark"},"Status"),r.a.createElement("span",{className:"tag is-info"},1==this.meetingNote.is_closed?"Closed":"Not Closed")):null,r.a.createElement("form",{id:Se,onSubmit:this.onSubmit},r.a.createElement(De,{required:!0,label:"Tanggal",name:"date",type:"date"}),r.a.createElement(De,{required:!0,label:"Tempat",name:"place"}),r.a.createElement(De,{required:!0,label:"Pembahasan",name:"content",type:"textarea"}),r.a.createElement(De,{required:!0,label:"Keputusan",name:"decision",type:"textarea"}),r.a.createElement(De,{required:!0,label:"Deadline",name:"deadline_date",type:"date"}),r.a.createElement(De,{required:!0,label:"Penganggung Jawab",name:"person_in_charge"}),this.isClosed()?null:r.a.createElement(z,{submitText:null==this.getRecordId()?"Create":"Update",withReset:null==this.getRecordId()}))))}}]),t}(x),De=function(e){return q(e)},ke=Object(g.a)(Object(w.b)(function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus}},function(e){return{}})(je)),we=["January","February","March","April","May","June","July","August","September","October","November","December"],Ce=function(e){var t=e.split("-"),a=t[2],n=t[1],r=t[0];return a+" "+we[n-1]+" "+r},Ie="form-input-meeting-note-action",xe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={recordNotFound:!1,isLoadingRecord:!0,showDetailNote:!0},a.meetingNote={},a.meetingNoteService=Oe.instance,a.getRecordId=function(){return a.props.match.params.id},a.hideDetailNote=function(){a.setState({showDetailNote:!1})},a.showDetailNote=function(){a.setState({showDetailNote:!0})},a.onSubmit=function(e){e.preventDefault();var t=e.target,n=Object(d.a)(Object(d.a)(a));a.showConfirmation("Submit Data?").then(function(e){e&&n.fillDataAndStore(t)})},a.fillDataAndStore=function(e){for(var t=e.getElementsByClassName("input-form-field"),n={note_id:a.meetingNote.id},r=0;r<t.length;r++){var l=t[r];null!=l.value&&""!=l.value&&(n[l.name]=l.value)}console.debug("meetingNote action>>",n),a.storeAction(n)},a.handleSuccessSubmit=function(e){a.meetingNote.action=e.action,a.meetingNote.is_closed=!0,a.showInfo("SUCCESS");try{null==a.getRecordId()&&document.getElementById(Ie).reset()}catch(t){}},a.handleErrorSubmit=function(e){a.showError("handleErrorSubmit: "+e)},a.handleErrorGetRecord=function(e){a.setState({recordNotFound:!0})},a.handleSuccessGetRecord=function(e){a.meetingNote=e.meeting_note,a.setState({isLoadingRecord:!1,recordNotFound:!1})},a.storeAction=function(e){a.commonAjax(a.meetingNoteService.storeAction,e,a.handleSuccessSubmit,a.handleErrorSubmit)},a.loadRecord=function(){a.commonAjax(a.meetingNoteService.view,a.getRecordId(),a.handleSuccessGetRecord,a.handleErrorGetRecord)},a.isClosed=function(){return null!=a.getRecordId()&&null!=a.meetingNote&&1==a.meetingNote.is_closed},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.validateLoginStatus()}},{key:"componentDidMount",value:function(){document.title="Action Form",null==this.getRecordId()&&this.backToLogin(),this.loadRecord()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return this.state.recordNotFound?r.a.createElement(B,{className:"is-danger",body:"Record Not Found"}):this.state.isLoadingRecord?r.a.createElement("h3",null,"Please Wait..."):null==this.props.loggedUser?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},"Konfirmasi Rapat Departemen ",this.props.loggedUser.departement.name),r.a.createElement(V,{title:"Detail Notulen"},r.a.createElement("div",{className:"tags has-addons are-medium"},r.a.createElement("span",{className:"tag is-dark"},"Status"),r.a.createElement("span",{className:"tag is-info"},this.meetingNote.is_closed?"Closed":"Not Closed")),this.state.showDetailNote?r.a.createElement("article",{style:{marginBottom:"10px"},className:"is-info"},r.a.createElement("div",{className:"message-header"},r.a.createElement("p",null,"Detail Notulen"),r.a.createElement("button",{onClick:this.hideDetailNote,className:"delete","aria-label":"delete"})),r.a.createElement("div",{className:"message-body has-background-light"},r.a.createElement(K,{label:"Waktu dan Tempat"},r.a.createElement("p",null,this.meetingNote.place,", ",Ce(this.meetingNote.date))),r.a.createElement(K,{label:"Pembahasan"},r.a.createElement("p",null,this.meetingNote.content)),r.a.createElement(K,{label:"Keputusan"},r.a.createElement("p",null,this.meetingNote.decision)),r.a.createElement(K,{label:"Deadline"},r.a.createElement("p",null,Ce(this.meetingNote.deadline_date))),r.a.createElement(K,{label:"Penganggung Jawab"},r.a.createElement("p",null,this.meetingNote.person_in_charge)))):r.a.createElement("a",{className:"button",onClick:this.showDetailNote},"Tampilkan Detail Notulen")),r.a.createElement(V,{title:"Formulir Konfirmasi"},null==this.meetingNote.action?r.a.createElement("form",{id:Ie,onSubmit:this.onSubmit},r.a.createElement(Re,{required:!0,label:"Tanggal",name:"date",type:"date"}),r.a.createElement(Re,{required:!0,label:"Keterangan",name:"description",type:"textarea"}),r.a.createElement(z,{submitText:"Submit",withReset:!0})):r.a.createElement("article",{style:{marginBottom:"10px"},className:"is-info"},r.a.createElement("div",{className:"message-header"},r.a.createElement("p",null,"Detail Konfirmasi")),r.a.createElement("div",{className:"message-body has-background-light"},r.a.createElement(K,{label:"Tanggal"},r.a.createElement("p",null,this.meetingNote.action.date)),r.a.createElement(K,{label:"Keterangan"},r.a.createElement("p",null,this.meetingNote.action.description))))))}}]),t}(x),Re=function(e){return q(e)},Ae=Object(g.a)(Object(w.b)(function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus}},function(e){return{}})(xe)),Fe=function e(t){Object(i.a)(this,e),this.updateProfile=function(e){var t={userModel:e},a=b().concat("api/accountdashboard/updateprofile");return ie(a,t)}};Fe.instance=Fe.instance||new Fe;var Le=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},a.userService=Fe.instance,a.populateForm=function(){for(var e=document.getElementById("form-profile").getElementsByClassName("input-form-field"),t=a.props.loggedUser,n=0;n<e.length;n++){var r=e[n];"password"==r.name?r.value=null:r.value=t[r.name]}},a.onSubmit=function(e){e.preventDefault();var t=e.target,n=Object(d.a)(Object(d.a)(a));a.showConfirmation("Update Profile?").then(function(e){e&&n.updateProfile(t)})},a.updateProfile=function(e){for(var t=e.getElementsByClassName("input-form-field"),n={},r=0;r<t.length;r++){var l=t[r];if(null!=l.value&&""!=l.value)n[l.name]=l.value}a.commonAjax(a.userService.updateProfile,n,a.onSubmitSuccess,a.onSubmitError)},a.onSubmitSuccess=function(e){a.showInfo("Update Profile Success"),a.props.requestAppId(a.getParentApp())},a.onSubmitError=function(e){a.showError("Update Profile Failed")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.validateLoginStatus(),document.title="Profile",this.populateForm()}},{key:"componentDidUpdate",value:function(){this.validateLoginStatus()}},{key:"render",value:function(){var e=this.props.loggedUser;return null==e?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",null,r.a.createElement("h2",{style:{textAlign:"center"}},"Profile"),r.a.createElement(V,{title:"Update Profile"},r.a.createElement("form",{onSubmit:this.onSubmit,id:"form-profile"},r.a.createElement(q,{label:"Email",name:"email",required:!0,type:"email"}),r.a.createElement(q,{label:"Username",name:"name",required:!0}),r.a.createElement(q,{label:"Display Name",name:"display_name",required:!0}),r.a.createElement(q,{label:"Password",name:"password",note:"Kosongkan password apabila tidak ingin diubah"}),r.a.createElement(K,{label:"Departement"},e.departement?e.departement.name:""),r.a.createElement(z,{submitText:"Update"}))))}}]),t}(x),Be=Object(g.a)(Object(w.b)(function(e){return{loggedUser:e.userState.loggedUser,loginStatus:e.userState.loginStatus}},function(e){return{requestAppId:function(t){return e(S(t))}}})(Le)),Ue=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"content"},r.a.createElement("div",{style:{height:"20px"}}),r.a.createElement(p.a,null,r.a.createElement(f.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(_e,null)}}),r.a.createElement(f.a,{path:"/home",render:function(e){return r.a.createElement(_e,null)}}),r.a.createElement(f.a,{path:"/dashboard",render:function(t){return r.a.createElement(X,{app:e.props.app})}}),r.a.createElement(f.a,{exact:!0,path:"/meetingnote/create",render:function(t){return r.a.createElement(ke,{app:e.props.app})}}),r.a.createElement(f.a,{exact:!0,path:"/meetingnote/:id",render:function(t){return r.a.createElement(ke,{app:e.props.app})}}),r.a.createElement(f.a,{exact:!0,path:"/meetingnote/:id/action",render:function(t){return r.a.createElement(Ae,{app:e.props.app})}}),r.a.createElement(f.a,{exact:!0,path:"/management",render:function(t){return r.a.createElement(te,{app:e.props.app})}}),r.a.createElement(f.a,{exact:!0,path:"/management/users",render:function(t){return r.a.createElement(fe,{app:e.props.app})}}),r.a.createElement(f.a,{exact:!0,path:"/management/users/create",render:function(t){return r.a.createElement(ve,{app:e.props.app})}}),r.a.createElement(f.a,{exact:!0,path:"/management/users/:id",render:function(t){return r.a.createElement(ve,{app:e.props.app})}}),r.a.createElement(f.a,{exact:!0,path:"/management/departements",render:function(t){return r.a.createElement(Ee,{app:e.props.app})}}),r.a.createElement(f.a,{exact:!0,path:"/management/departements/create",render:function(t){return r.a.createElement(Ne,{app:e.props.app})}}),r.a.createElement(f.a,{exact:!0,path:"/management/departements/:id",render:function(t){return r.a.createElement(Ne,{app:e.props.app})}}),r.a.createElement(f.a,{path:"/login",render:function(t){return r.a.createElement(_,{app:e.props.app})}}),r.a.createElement(f.a,{exact:!0,path:"/profile",render:function(t){return r.a.createElement(Be,{app:e.props.app})}})))}}]),t}(n.Component),_e=function(e){return document.title="Home",r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h2",null,"Kafila Console"),r.a.createElement("span",{style:{fontSize:"10em"}},r.a.createElement("i",{className:"fas fa-users-cog"})))},Te=Ue,Me=(a(47),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={opacity:1,show:!0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return 0==this.props.show?null:r.a.createElement("div",{style:{width:"100%",height:"50px",color:"#ccc",textAlign:"center"}},r.a.createElement("div",{style:{position:"fixed",zIndex:1e4}},r.a.createElement("div",{className:"columns",style:{width:"min-content"}},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))),r.a.createElement("div",{className:"column"},r.a.createElement("span",{style:{fontSize:"2em"}},"Loading")))))}}]),t}(n.Component));function Pe(e){return r.a.createElement("div",{className:"modal is-active has-text-centered",style:{backgroundColor:"rgba(100,100,100,0.7)"}},r.a.createElement("div",{className:"modal-background"}),e.children)}var qe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onYes=function(e){a.props.onYes&&a.props.onYes(e)},a.onNo=function(e){a.props.onNo&&a.props.onNo(e)},a.onClose=function(e){a.props.onClose&&a.props.onClose(e)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){try{document.getElementById("button-alert-yes").focus()}catch(e){}}},{key:"render",value:function(){var e=this.props.title?this.props.title:"Info",t=(this.props.yesOnly,"modal-card-head has-background-link");return 1==this.props.isError&&(t="modal-card-head has-background-danger"),r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,null,r.a.createElement("form",{onSubmit:"return false;"},r.a.createElement("div",{className:"modal-card"},r.a.createElement("header",{className:t},r.a.createElement("p",{className:"modal-card-title has-text-white"},e)),r.a.createElement("section",{className:"modal-card-body"},this.props.children),r.a.createElement("footer",{className:"modal-card-foot"},r.a.createElement("div",{style:{margin:"auto"}},r.a.createElement("button",{id:"button-alert-yes",type:"submit",onClick:this.onYes,className:this.props.yesOnly?"button":"button is-link"},"Yes"),this.props.yesOnly?null:r.a.createElement("button",{onClick:this.onNo,className:"button"},"No")))))))}}]),t}(n.Component),Ge=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={menus:[],menuCode:"",loading:!1,loadingPercentage:0,requestId:null,mainAppUpdated:new Date,showAlert:!1},a.alertTitle=null,a.alertBody=null,a.alertIsYesOnly=!0,a.alertIsError=!1,a.alertOnYesCallback=null,a.alertOnCancelCallback=null,a.loadings=0,a.setMenuCode=function(e){a.setState({menuCode:e})},a.refresh=function(){a.setState({mainAppUpdated:new Date})},a.incrementLoadings=function(){this.loadings++},a.decrementLoadings=function(){this.loadings--,this.loadings<0&&(this.loadings=0)},a.requestAppId=function(){a.props.requestAppId(Object(d.a)(Object(d.a)(a)))},a.startLoading=function(e){a.incrementLoadings(),a.setState({loading:!0,realtime:e})},a.endLoading=function(){console.log("END LOADING"),a.decrementLoadings(),0==a.loadings&&a.setState({loading:!1,loadingPercentage:0})},a.showAlertError=function(e,t,n,r,l){a.alertIsError=!0,a.showAlert(e,t,n,r,l)},a.showAlert=function(e,t,n,r,l){a.alertTitle=e,a.alertBody=t,a.alertIsYesOnly=n;var o=Object(d.a)(Object(d.a)(a));a.alertOnYesCallback=function(e){o.dismissAlert(),r(e)},n||(a.alertOnCancelCallback=function(e){o.dismissAlert(),null!=l&&l(e)}),a.setState({showAlert:!0})},a.dismissAlert=function(){a.alertIsError=!1,a.setState({showAlert:!1})},a.routedContent=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(f.a,{path:"/home",render:function(e){return r.a.createElement("h2",null,"HOME")}}),r.a.createElement(f.a,{path:"/login",render:function(e){return r.a.createElement("h2",null,"Login")}})))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){this.props.requestId!=this.state.requestId&&(this.setState({requestId:this.props.requestId}),this.props.refreshLogin())}},{key:"componentDidMount",value:function(){this.requestAppId(),this.setState({loadingPercentage:0})}},{key:"setMenus",value:function(){for(var e=this.props.menus?this.props.menus:[],t=new Array,a=0;a<e.length;a++){var n=e[a],r=1!=this.props.loginStatus&&1==n.authenticated,l=!this.state.enableShopping&&"cart"==n.code;r||(l||t.push(n))}return t}},{key:"render",value:function(){return this.props.requestId?r.a.createElement("div",{className:"App"},this.state.showAlert?r.a.createElement(qe,{isError:this.alertIsError,yesOnly:this.alertIsYesOnly,title:this.alertTitle,onYes:this.alertOnYesCallback,onNo:this.alertOnCancelCallback},this.alertBody):null,r.a.createElement(L,{app:this}),r.a.createElement("section",{className:"container",style:{minHeight:"70vh"}},r.a.createElement("div",{style:{height:"50px"}},r.a.createElement(Me,{show:this.state.loading})),r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement(Te,{app:this})))),r.a.createElement(C,null)):r.a.createElement(Me,{show:!0})}}]),t}(n.Component),Ke=Object(g.a)(Object(w.b)(function(e){return{loginStatus:e.userState.loginStatus,menus:e.userState.menus,requestId:e.userState.requestId,applicationProfile:e.userState.applicationProfile}},function(e){return{performLogout:function(t){return e(j(t))},requestAppId:function(t){return e(S(t))},refreshLogin:function(){return e({type:"refresh_login",payload:{},meta:{type:"refresh_login"}})}}})(Ge)),ze=a(14),Je={loginKey:null,loginStatus:!1,loginFailed:!1,loggedUser:null,loginAttempt:!1,requestId:null,lastLoginAttempt:new Date,applicationProfile:{}},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"req_ID":return a=Object(H.a)({},e,{requestId:t.payload.requestId,applicationProfile:t.payload.applicationProfile}),1!=t.payload.loginStatus?(a.loginStatus=!1,a.loggedUser=null):t.payload.user?(a.loggedUser=t.payload.user,a.loginStatus=!0,re(a.loggedUser.api_token)):(a.loginStatus=!1,a.loggedUser=null),a;case"do_login":if(!t.payload.loginStatus)return Object(H.a)({},e,{lastLoginAttempt:new Date,loginFailed:!0});var a=Object(H.a)({},e,{lastLoginAttempt:new Date,loginAttempt:!0,loginStatus:t.payload.loginStatus,loginKey:t.payload.loginKey,loginFailed:!1,loggedUser:t.payload.loggedUser});return re(a.loginKey),a;case"do_logout":return a=Object(H.a)({},e,{loginStatus:!1,loggedUser:null});default:return Object(H.a)({},e)}},Ye={entitiesData:{entityConfig:null},managedEntity:null,entityProperty:null,managementMenus:[]},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"get_entity":return Object(H.a)({},e,{entitiesData:t.payload});case"get_entity_by_id":return Object(H.a)({},e,{managedEntity:t.payload.entities[0]});case"update_entity":return e;case"rm_mng_entity":return Object(H.a)({},e,{managedEntity:null});case"get_entity_config":return Object(H.a)({},e,{entityProperty:t.payload});case"GET_MANAGEMENT_MENUS":return Object(H.a)({},e,{managementMenus:t.payload.generalList});default:return e}},Ve={meetingNoteData:null},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MEETING_NOTES":var a=Object(H.a)({},e,{meetingNoteData:t.payload});return console.debug("action.meetingNoteData: ",a.meetingNoteData),a;default:return Object(H.a)({},e)}},Qe=Object(ze.c)({userState:We,managementState:He,meetingNoteState:$e}),Xe={userState:Je,managementState:Ye,meetingNoteState:Ve},Ze=a(19),et=function(e){return function(t){return function(a){if(!a.meta||"do_login"!==a.meta.type)return t(a);var n=a.meta.app;fetch(a.meta.url,{method:"post",body:JSON.stringify(a.payload),headers:ae()}).then(function(e){return Promise.all([e.json(),e])}).then(function(t){var n=Object(Ze.a)(t,2),r=n[0],l=(n[1],r.user.api_token),o=Object.assign({},a,{payload:{loginStatus:!0,loginKey:l,loggedUser:r.user}});delete o.meta,e.dispatch(o)}).catch(function(t){var n=Object.assign({},a,{payload:{loginStatus:!1}});delete n.meta,e.dispatch(n)}).finally(function(e){n.endLoading()})}}},tt=function(e){return function(t){return function(a){if(!a.meta||"req_ID"!==a.meta.type)return t(a);var n=ae();fetch(a.meta.url,{method:"post",body:JSON.stringify(a.payload),headers:n}).then(function(e){return Promise.all([e.json(),e])}).then(function(t){var n=Object(Ze.a)(t,2),r=n[0];n[1];console.debug("Request App Id Middleware Response:",r);var l="",o=r.message,i=!1;r.user&&(l=r.user.api_token,i=!0);var s=Object.assign({},a,{payload:Object(H.a)({loginStatus:i,loginKey:l,requestId:o},r)});delete s.meta,e.dispatch(s)}).catch(function(e){console.error("ERROR Get Request ID: ",e)}).finally(function(e){return a.meta.app.endLoading()})}}},at=function(e){return function(e){return function(t){if(!t.meta||"refresh_login"!==t.meta.type)return e(t)}}},nt=function(e){return function(t){return function(a){if(!a.meta||"do_logout"!==a.meta.type)return t(a);var n=a.meta.app;fetch(a.meta.url,{method:"post",body:JSON.stringify(a.payload),headers:ae()}).then(function(e){return Promise.all([e.json(),e])}).then(function(t){var n=Object(Ze.a)(t,2),r=n[0],l=(n[1],!1);"00"==r.code?l=!0:alert("Logout Failed");var o=Object.assign({},a,{payload:{loginStatus:!l}});delete o.meta,e.dispatch(o)}).catch(function(e){console.log(e)}).finally(function(e){return n.endLoading()})}}},rt=function(e){return function(t){return function(a){if(!a.meta||"remove_shop_entity"!==a.meta.type)return t(a);var n=Object.assign({},a,{payload:null});delete n.meta,e.dispatch(n)}}},lt=function(e){return function(t){return function(a){if(!a.meta||"update_cart"!==a.meta.type)return t(a);var n=Object.assign({},a,{payload:a.payload});delete n.meta,e.dispatch(n)}}},ot=function(e){return function(t){return function(a){if(!a.meta||"GET_MEETING_NOTES"!==a.meta.type)return t(a);var n=a.meta.app;fetch(a.meta.url,{method:"post",body:JSON.stringify(a.payload),headers:ae()}).then(function(e){return e.json()}).then(function(t){var n=Object.assign({},a,{payload:Object(H.a)({},t)});delete n.meta,e.dispatch(n)}).catch(function(e){console.log(e)}).finally(function(e){n.endLoading()})}}},it=function(){return Object(ze.d)(Qe,Xe,Object(ze.a)(rt,lt,et,nt,at,tt,ot))},st=a(52),ct=function(e){var t=it();return r.a.createElement(w.a,{store:t},r.a.createElement(st.a,null,r.a.createElement(Ke,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ct,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[30,2,1]]]);
//# sourceMappingURL=main.3bcd9fac.chunk.js.map